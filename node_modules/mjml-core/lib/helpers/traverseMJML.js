'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = traverseMJML;

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function traverseMJML(mjml) {
  var predicate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _lodash2.default.noop;

  var traverse = function traverse(mjml, predicate) {
    return _lodash2.default.map(mjml.children, function (child) {
      if (predicate(child)) {
        return child;
      }

      return traverse(child, predicate);
    });
  };

  return _lodash2.default.head(_lodash2.default.flattenDeep(traverse(mjml, predicate)));
}
module.exports = exports['default'];